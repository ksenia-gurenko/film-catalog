{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\nimport { API_CONFIG } from '../../utils/constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction SearchBarComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function SearchBarComponent_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.clearSearch());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 10);\n    i0.ɵɵelement(2, \"path\", 11);\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class SearchBarComponent {\n  search = new EventEmitter();\n  searchControl = new FormControl('');\n  destroy$ = new Subject();\n  ngOnInit() {\n    this.setupSearchSubscription();\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  setupSearchSubscription() {\n    this.searchControl.valueChanges.pipe(debounceTime(API_CONFIG.SEARCH_DEBOUNCE), distinctUntilChanged(), takeUntil(this.destroy$)).subscribe(query => {\n      this.search.emit(query || '');\n    });\n  }\n  clearSearch() {\n    this.searchControl.setValue('');\n  }\n  onSubmit(event) {\n    event.preventDefault();\n    this.search.emit(this.searchControl.value || '');\n  }\n  static ɵfac = function SearchBarComponent_Factory(t) {\n    return new (t || SearchBarComponent)();\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchBarComponent,\n    selectors: [[\"app-search-bar\"]],\n    outputs: {\n      search: \"search\"\n    },\n    decls: 10,\n    vars: 2,\n    consts: [[\"searchInput\", \"\"], [\"role\", \"search\", \"aria-label\", \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0444\\u0438\\u043B\\u044C\\u043C\\u043E\\u0432\", 1, \"search-bar\", 3, \"submit\"], [1, \"search-bar__container\"], [1, \"search-bar__icon\"], [\"width\", \"20\", \"height\", \"20\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"aria-hidden\", \"true\"], [\"d\", \"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\"], [\"type\", \"search\", \"placeholder\", \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0444\\u0438\\u043B\\u044C\\u043C\\u043E\\u0432 \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E...\", \"aria-label\", \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0444\\u0438\\u043B\\u044C\\u043C\\u0430 \\u0434\\u043B\\u044F \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430\", 1, \"search-bar__input\", 3, \"formControl\"], [\"type\", \"button\", \"class\", \"search-bar__clear\", \"aria-label\", \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C \\u043F\\u043E\\u0438\\u0441\\u043A\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"submit\", \"aria-label\", \"\\u0412\\u044B\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u044C \\u043F\\u043E\\u0438\\u0441\\u043A\", 1, \"search-bar__submit\"], [\"type\", \"button\", \"aria-label\", \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C \\u043F\\u043E\\u0438\\u0441\\u043A\", 1, \"search-bar__clear\", 3, \"click\"], [\"width\", \"16\", \"height\", \"16\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\"], [\"d\", \"M18 6L6 18M6 6L18 18\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\"]],\n    template: function SearchBarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"form\", 1);\n        i0.ɵɵlistener(\"submit\", function SearchBarComponent_Template_form_submit_0_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onSubmit($event));\n        });\n        i0.ɵɵelementStart(1, \"div\", 2)(2, \"div\", 3);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(3, \"svg\", 4);\n        i0.ɵɵelement(4, \"path\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelement(5, \"input\", 6, 0);\n        i0.ɵɵtemplate(7, SearchBarComponent_button_7_Template, 3, 0, \"button\", 7);\n        i0.ɵɵelementStart(8, \"button\", 8);\n        i0.ɵɵtext(9, \" \\u041D\\u0430\\u0439\\u0442\\u0438 \");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formControl\", ctx.searchControl);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.searchControl.value);\n      }\n    },\n    dependencies: [i1.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormControlDirective],\n    styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\tvar __webpack_modules__ = ({\\n\\n\\n 565:\\n\\n\\n\\n\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\\\\nUndefined variable.\\\\n   \\u2577\\\\n60 \\u2502   box-shadow: $shadow-md;\\\\r\\\\n   \\u2502               ^^^^^^^^^^\\\\n   \\u2575\\\\n  src\\\\\\\\styles\\\\\\\\_mixins.scss 60:15                                 card-shadow()\\\\n  src\\\\\\\\app\\\\\\\\components\\\\\\\\search-bar\\\\\\\\search-bar.component.scss 16:5  root stylesheet\\\");\\n\\n\\n })\\n\\n\\n \\t});\\n\\n\\n\\n \\t\\n\\n \\t// startup\\n\\n \\t// Load entry module and return exports\\n\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n\\n \\tvar __webpack_exports__ = {};\\n\\n \\t__webpack_modules__[565]();\\n\\n \\tresource = __webpack_exports__;\\n\\n \\t\\n\\n })()\\n;\"]\n  });\n}","map":{"version":3,"names":["EventEmitter","FormControl","Subject","debounceTime","distinctUntilChanged","takeUntil","API_CONFIG","i0","ɵɵelementStart","ɵɵlistener","SearchBarComponent_button_7_Template_button_click_0_listener","ɵɵrestoreView","_r2","ctx_r2","ɵɵnextContext","ɵɵresetView","clearSearch","ɵɵelement","ɵɵelementEnd","SearchBarComponent","search","searchControl","destroy$","ngOnInit","setupSearchSubscription","ngOnDestroy","next","complete","valueChanges","pipe","SEARCH_DEBOUNCE","subscribe","query","emit","setValue","onSubmit","event","preventDefault","value","selectors","outputs","decls","vars","consts","template","SearchBarComponent_Template","rf","ctx","SearchBarComponent_Template_form_submit_0_listener","$event","_r1","ɵɵtemplate","SearchBarComponent_button_7_Template","ɵɵtext","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\kseniya\\dev\\film-catalog\\src\\app\\components\\search-bar\\search-bar.component.ts","C:\\Users\\kseniya\\dev\\film-catalog\\src\\app\\components\\search-bar\\search-bar.component.html"],"sourcesContent":["import { Component, Output, EventEmitter, OnInit, OnDestroy } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, takeUntil } from 'rxjs/operators';\r\nimport { API_CONFIG } from '../../utils/constants';\r\n\r\n@Component({\r\n  selector: 'app-search-bar',\r\n  templateUrl: './search-bar.component.html',\r\n  styleUrls: ['./search-bar.component.scss']\r\n})\r\nexport class SearchBarComponent implements OnInit, OnDestroy {\r\n  @Output() search = new EventEmitter<string>();\r\n\r\n  searchControl = new FormControl('');\r\n  private destroy$ = new Subject<void>();\r\n\r\n  ngOnInit(): void {\r\n    this.setupSearchSubscription();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  private setupSearchSubscription(): void {\r\n    this.searchControl.valueChanges.pipe(\r\n      debounceTime(API_CONFIG.SEARCH_DEBOUNCE),\r\n      distinctUntilChanged(),\r\n      takeUntil(this.destroy$)\r\n    ).subscribe(query => {\r\n      this.search.emit(query || '');\r\n    });\r\n  }\r\n\r\n  clearSearch(): void {\r\n    this.searchControl.setValue('');\r\n  }\r\n\r\n  onSubmit(event: Event): void {\r\n    event.preventDefault();\r\n    this.search.emit(this.searchControl.value || '');\r\n  }\r\n}\r\n","<form\r\n  class=\"search-bar\"\r\n  (submit)=\"onSubmit($event)\"\r\n  role=\"search\"\r\n  aria-label=\"Поиск фильмов\"\r\n>\r\n  <div class=\"search-bar__container\">\r\n    <div class=\"search-bar__icon\">\r\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\r\n        <path d=\"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z\"\r\n              stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n      </svg>\r\n    </div>\r\n\r\n    <input\r\n      #searchInput\r\n      type=\"search\"\r\n      [formControl]=\"searchControl\"\r\n      class=\"search-bar__input\"\r\n      placeholder=\"Поиск фильмов по названию...\"\r\n      aria-label=\"Введите название фильма для поиска\"\r\n    />\r\n\r\n    <button\r\n      *ngIf=\"searchControl.value\"\r\n      type=\"button\"\r\n      class=\"search-bar__clear\"\r\n      (click)=\"clearSearch()\"\r\n      aria-label=\"Очистить поиск\"\r\n    >\r\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n        <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n      </svg>\r\n    </button>\r\n\r\n    <button\r\n      type=\"submit\"\r\n      class=\"search-bar__submit\"\r\n      aria-label=\"Выполнить поиск\"\r\n    >\r\n      Найти\r\n    </button>\r\n  </div>\r\n</form>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}