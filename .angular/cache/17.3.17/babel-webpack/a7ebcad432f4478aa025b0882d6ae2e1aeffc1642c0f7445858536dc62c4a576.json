{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction MovieCardComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"img\", 12);\n    i0.ɵɵlistener(\"error\", function MovieCardComponent_ng_container_2_Template_img_error_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.handleImageError($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", ctx_r1.getSafeImageUrl(ctx_r1.movie.poster), i0.ɵɵsanitizeUrl)(\"alt\", ctx_r1.movie.title);\n  }\n}\nfunction MovieCardComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"background\", \"linear-gradient(135deg, \" + ctx_r1.getMovieColor() + \" 0%, #333 100%)\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.movie.title);\n  }\n}\nfunction MovieCardComponent_div_16_div_7_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieCardComponent_div_16_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"strong\");\n    i0.ɵɵtext(2, \"\\u0412 \\u0440\\u043E\\u043B\\u044F\\u0445:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵtemplate(4, MovieCardComponent_div_16_div_7_span_4_Template, 2, 0, \"span\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.movie.castFormatted, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.movie.cast.length > 3);\n  }\n}\nfunction MovieCardComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"p\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 17)(4, \"strong\");\n    i0.ɵɵtext(5, \"\\u0420\\u0435\\u0436\\u0438\\u0441\\u0441\\u0435\\u0440:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, MovieCardComponent_div_16_div_7_Template, 5, 2, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.movie.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.movie.director, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.movie.cast && ctx_r1.movie.cast.length > 0);\n  }\n}\nexport class MovieCardComponent {\n  movie;\n  showDetails = false;\n  cardClick = new EventEmitter();\n  hoverState = 'normal';\n  ratingColor = '';\n  defaultImage = 'assets/images/placeholder.jpg';\n  ngOnInit() {\n    this.setRatingColor();\n  }\n  onCardClick() {\n    this.cardClick.emit(this.movie.id);\n  }\n  onMouseEnter() {\n    this.hoverState = 'hovered';\n  }\n  onMouseLeave() {\n    this.hoverState = 'normal';\n  }\n  getSafeImageUrl(url) {\n    // Если URL пустой или undefined, возвращаем заглушку\n    if (!url || url.trim() === '') {\n      return this.defaultImage;\n    }\n    // Если это локальный путь с assets/\n    if (url.startsWith('assets/')) {\n      return url;\n    }\n    // Если это относительный путь без assets/\n    if (url.startsWith('/')) {\n      return url;\n    }\n    // Если это внешний URL\n    if (url.startsWith('http://') || url.startsWith('https://')) {\n      return url;\n    }\n    // По умолчанию предполагаем, что это локальный файл в assets/images/\n    return `assets/images/${url}`;\n  }\n  handleImageError(event) {\n    console.warn(`Ошибка загрузки изображения: ${this.movie.poster}`);\n    event.target.src = this.defaultImage;\n    event.target.alt = `Изображение для фильма \"${this.movie.title}\" недоступно`;\n    event.target.title = 'Изображение временно недоступно';\n  }\n  setRatingColor() {\n    if (this.movie.rating >= 8.5) {\n      this.ratingColor = 'success';\n    } else if (this.movie.rating >= 7.0) {\n      this.ratingColor = 'warning';\n    } else {\n      this.ratingColor = 'error';\n    }\n  }\n  getRatingClass() {\n    return `rating-${this.ratingColor}`;\n  }\n  // Генерация цвета для фильма (запасной вариант)\n  getMovieColor() {\n    const colors = ['#1a237e',\n    // Начало - темно-синий\n    '#311b92',\n    // Темный рыцарь - фиолетовый\n    '#004d40',\n    // Интерстеллар - темно-зеленый\n    '#3e2723',\n    // Помни - коричневый\n    '#1b5e20',\n    // Матрица - зеленый\n    '#bf360c' // Криминальное чтиво - оранжевый\n    ];\n    return colors[this.movie.id % colors.length];\n  }\n  // Если изображение не загрузилось, показываем цветной блок с названием\n  showColorFallback() {\n    return !this.movie.poster || this.movie.poster.trim() === '';\n  }\n  static ɵfac = function MovieCardComponent_Factory(t) {\n    return new (t || MovieCardComponent)();\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MovieCardComponent,\n    selectors: [[\"app-movie-card\"]],\n    inputs: {\n      movie: \"movie\",\n      showDetails: \"showDetails\"\n    },\n    outputs: {\n      cardClick: \"cardClick\"\n    },\n    decls: 17,\n    vars: 13,\n    consts: [[\"role\", \"button\", \"tabindex\", \"0\", 1, \"movie-card\", 3, \"click\", \"mouseenter\", \"mouseleave\", \"title\"], [1, \"movie-card__poster\"], [4, \"ngIf\"], [\"class\", \"movie-poster-fallback\", 3, \"background\", 4, \"ngIf\"], [1, \"movie-card__rating\", 3, \"ngClass\"], [1, \"movie-card__content\"], [1, \"movie-card__title\"], [1, \"movie-card__meta\"], [1, \"movie-card__year\"], [1, \"movie-card__duration\"], [1, \"movie-card__genres\"], [\"class\", \"movie-card__details\", 4, \"ngIf\"], [\"loading\", \"lazy\", 1, \"movie-poster\", 3, \"error\", \"src\", \"alt\"], [1, \"movie-poster-fallback\"], [1, \"fallback-text\"], [1, \"movie-card__details\"], [1, \"movie-card__description\"], [1, \"movie-card__director\"], [\"class\", \"movie-card__cast\", 4, \"ngIf\"], [1, \"movie-card__cast\"]],\n    template: function MovieCardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"click\", function MovieCardComponent_Template_div_click_0_listener() {\n          return ctx.onCardClick();\n        })(\"mouseenter\", function MovieCardComponent_Template_div_mouseenter_0_listener() {\n          return ctx.onMouseEnter();\n        })(\"mouseleave\", function MovieCardComponent_Template_div_mouseleave_0_listener() {\n          return ctx.onMouseLeave();\n        });\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtemplate(2, MovieCardComponent_ng_container_2_Template, 2, 2, \"ng-container\", 2)(3, MovieCardComponent_div_3_Template, 3, 3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 5)(7, \"h3\", 6);\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"span\", 8);\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"span\", 9);\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 10);\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, MovieCardComponent_div_16_Template, 8, 3, \"div\", 11);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"@cardHover\", ctx.hoverState)(\"@fadeIn\", undefined)(\"title\", \"\\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0430 \\u0434\\u0435\\u0442\\u0430\\u043B\\u0435\\u0439 \\u0444\\u0438\\u043B\\u044C\\u043C\\u0430 \" + ctx.movie.title);\n        i0.ɵɵattribute(\"aria-label\", \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u043A \\u0434\\u0435\\u0442\\u0430\\u043B\\u044F\\u043C \\u0444\\u0438\\u043B\\u044C\\u043C\\u0430 \" + ctx.movie.title);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.showColorFallback());\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.showColorFallback());\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngClass\", ctx.getRatingClass());\n        i0.ɵɵadvance();\n        i0.ɵɵtextInterpolate1(\" \", ctx.movie.ratingFormatted, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.movie.title);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.movie.year);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.movie.durationFormatted);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.movie.genresFormatted, \" \");\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.showDetails);\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgIf],\n    styles: [\".movie-card[_ngcontent-%COMP%] {\\n  background: var(--background-card);\\n  border-radius: 12px;\\n  overflow: hidden;\\n  cursor: pointer;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  transition: all 0.3s ease;\\n  border: 1px solid var(--border-color);\\n}\\n.movie-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-4px);\\n  box-shadow: 0 8px 25px var(--shadow-color-dark);\\n}\\n.movie-card[_ngcontent-%COMP%]:focus {\\n  outline: 2px solid var(--primary-color);\\n  outline-offset: 2px;\\n}\\n.movie-card__poster[_ngcontent-%COMP%] {\\n  position: relative;\\n  width: 100%;\\n  padding-top: 150%;\\n  overflow: hidden;\\n  background-color: var(--background-primary);\\n}\\n.movie-card__poster[_ngcontent-%COMP%]   .movie-poster[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n  transition: transform 0.5s ease;\\n}\\n.movie-card__poster[_ngcontent-%COMP%]   .movie-poster[_ngcontent-%COMP%]:hover {\\n  transform: scale(1.05);\\n}\\n.movie-card__poster[_ngcontent-%COMP%]   .movie-poster-fallback[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  color: white;\\n  font-weight: bold;\\n  text-align: center;\\n}\\n.movie-card__poster[_ngcontent-%COMP%]   .movie-poster-fallback[_ngcontent-%COMP%]   .fallback-text[_ngcontent-%COMP%] {\\n  padding: 16px;\\n  font-size: 18px;\\n  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);\\n  max-width: 90%;\\n  word-break: break-word;\\n}\\n.movie-card__poster[_ngcontent-%COMP%]:hover   .movie-poster[_ngcontent-%COMP%] {\\n  transform: scale(1.05);\\n}\\n.movie-card__rating[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 12px;\\n  right: 12px;\\n  background: rgba(0, 0, 0, 0.85);\\n  color: white;\\n  padding: 4px 8px;\\n  border-radius: 4px;\\n  font-weight: bold;\\n  font-size: 14px;\\n  backdrop-filter: blur(4px);\\n  border: 1px solid rgba(255, 255, 255, 0.1);\\n  z-index: 2;\\n}\\n.movie-card__rating.rating-success[_ngcontent-%COMP%] {\\n  background: rgba(76, 175, 80, 0.9);\\n}\\n.movie-card__rating.rating-warning[_ngcontent-%COMP%] {\\n  background: rgba(255, 152, 0, 0.9);\\n}\\n.movie-card__rating.rating-error[_ngcontent-%COMP%] {\\n  background: rgba(244, 67, 54, 0.9);\\n}\\n.movie-card__content[_ngcontent-%COMP%] {\\n  padding: 16px;\\n  flex-grow: 1;\\n  display: flex;\\n  flex-direction: column;\\n}\\n.movie-card__title[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  font-weight: 500;\\n  margin-bottom: 8px;\\n  color: var(--text-primary);\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n.movie-card__meta[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 16px;\\n  margin-bottom: 8px;\\n  color: var(--text-secondary);\\n  font-size: 14px;\\n}\\n.movie-card__genres[_ngcontent-%COMP%] {\\n  color: var(--primary-color);\\n  font-size: 14px;\\n  margin-bottom: 12px;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.movie-card__details[_ngcontent-%COMP%] {\\n  border-top: 1px solid var(--border-color);\\n  padding-top: 12px;\\n  margin-top: auto;\\n}\\n.movie-card__description[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  color: var(--text-secondary);\\n  margin-bottom: 12px;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 3;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  line-height: 1.4;\\n}\\n.movie-card__director[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  color: var(--text-primary);\\n  margin-bottom: 8px;\\n}\\n.movie-card__director[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  color: var(--text-secondary);\\n  font-weight: 500;\\n}\\n.movie-card__cast[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  color: var(--text-secondary);\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  line-height: 1.4;\\n}\\n.movie-card__cast[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  color: var(--text-primary);\\n  font-weight: 500;\\n}\\n\\n@media (max-width: 768px) {\\n  .movie-card[_ngcontent-%COMP%] {\\n    border-radius: 8px;\\n  }\\n  .movie-card__content[_ngcontent-%COMP%] {\\n    padding: 12px;\\n  }\\n  .movie-card__title[_ngcontent-%COMP%] {\\n    font-size: 16px;\\n  }\\n  .movie-card__meta[_ngcontent-%COMP%] {\\n    font-size: 12px;\\n  }\\n  .movie-card__genres[_ngcontent-%COMP%] {\\n    font-size: 12px;\\n  }\\n  .movie-card__description[_ngcontent-%COMP%], .movie-card__director[_ngcontent-%COMP%], .movie-card__cast[_ngcontent-%COMP%] {\\n    font-size: 12px;\\n  }\\n}\\n.sr-only[_ngcontent-%COMP%] {\\n  position: absolute;\\n  width: 1px;\\n  height: 1px;\\n  padding: 0;\\n  margin: -1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0);\\n  white-space: nowrap;\\n  border: 0;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9tb3ZpZS1jYXJkL21vdmllLWNhcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSxrQ0FBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLHlCQUFBO0VBQ0EscUNBQUE7QUFBRjtBQUVFO0VBQ0UsMkJBQUE7RUFDQSwrQ0FBQTtBQUFKO0FBR0U7RUFDRSx1Q0FBQTtFQUNBLG1CQUFBO0FBREo7QUFJRTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSwyQ0FBQTtBQUZKO0FBSUk7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLCtCQUFBO0FBRk47QUFJTTtFQUNFLHNCQUFBO0FBRlI7QUFNSTtFQUNFLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFKTjtBQU1NO0VBQ0UsYUFBQTtFQUNBLGVBQUE7RUFDQSwyQ0FBQTtFQUNBLGNBQUE7RUFDQSxzQkFBQTtBQUpSO0FBUUk7RUFDRSxzQkFBQTtBQU5OO0FBVUU7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsK0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLDBCQUFBO0VBQ0EsMENBQUE7RUFDQSxVQUFBO0FBUko7QUFVSTtFQUNFLGtDQUFBO0FBUk47QUFXSTtFQUNFLGtDQUFBO0FBVE47QUFZSTtFQUNFLGtDQUFBO0FBVk47QUFjRTtFQUNFLGFBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0FBWko7QUFlRTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsMEJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFiSjtBQWdCRTtFQUNFLGFBQUE7RUFDQSxTQUFBO0VBQ0Esa0JBQUE7RUFDQSw0QkFBQTtFQUNBLGVBQUE7QUFkSjtBQWlCRTtFQUNFLDJCQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSxxQkFBQTtFQUNBLDRCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtBQWZKO0FBa0JFO0VBQ0UseUNBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FBaEJKO0FBbUJFO0VBQ0UsZUFBQTtFQUNBLDRCQUFBO0VBQ0EsbUJBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsNEJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7QUFqQko7QUFvQkU7RUFDRSxlQUFBO0VBQ0EsMEJBQUE7RUFDQSxrQkFBQTtBQWxCSjtBQW9CSTtFQUNFLDRCQUFBO0VBQ0EsZ0JBQUE7QUFsQk47QUFzQkU7RUFDRSxlQUFBO0VBQ0EsNEJBQUE7RUFDQSxvQkFBQTtFQUNBLHFCQUFBO0VBQ0EsNEJBQUE7RUFDQSxnQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7QUFwQko7QUFzQkk7RUFDRSwwQkFBQTtFQUNBLGdCQUFBO0FBcEJOOztBQTBCQTtFQUNFO0lBQ0Usa0JBQUE7RUF2QkY7RUF5QkU7SUFDRSxhQUFBO0VBdkJKO0VBMEJFO0lBQ0UsZUFBQTtFQXhCSjtFQTJCRTtJQUNFLGVBQUE7RUF6Qko7RUE0QkU7SUFDRSxlQUFBO0VBMUJKO0VBNkJFO0lBR0UsZUFBQTtFQTdCSjtBQUNGO0FBa0NBO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsU0FBQTtBQWhDRiIsInNvdXJjZXNDb250ZW50IjpbIi8vIMOQwpjDkcKBw5DCv8OQwr7DkMK7w5HCjMOQwrfDkcKDw5DCtcOQwrwgQ1NTIMOQwr/DkMK1w5HCgMOQwrXDkMK8w5DCtcOQwr3DkMK9w5HCi8OQwrUgw5DCtMOQwrvDkcKPIMORwoLDkMK1w5DCvMOQwr3DkMK+w5DCuS/DkcKBw5DCssOQwrXDkcKCw5DCu8OQwr7DkMK5IMORwoLDkMK1w5DCvMORwotcclxuLm1vdmllLWNhcmQge1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtY2FyZCk7XHJcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcclxuXHJcbiAgJjpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTRweCk7XHJcbiAgICBib3gtc2hhZG93OiAwIDhweCAyNXB4IHZhcigtLXNoYWRvdy1jb2xvci1kYXJrKTtcclxuICB9XHJcblxyXG4gICY6Zm9jdXMge1xyXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIHZhcigtLXByaW1hcnktY29sb3IpO1xyXG4gICAgb3V0bGluZS1vZmZzZXQ6IDJweDtcclxuICB9XHJcblxyXG4gICZfX3Bvc3RlciB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHBhZGRpbmctdG9wOiAxNTAlOyAvLyDDkMKhw5DCvsOQwr7DkcKCw5DCvcOQwr7DkcKIw5DCtcOQwr3DkMK4w5DCtSDDkcKBw5HCgsOQwr7DkcKAw5DCvsOQwr0gMjozXHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZC1wcmltYXJ5KTtcclxuXHJcbiAgICAubW92aWUtcG9zdGVyIHtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICB0b3A6IDA7XHJcbiAgICAgIGxlZnQ6IDA7XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xyXG4gICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC41cyBlYXNlO1xyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC5tb3ZpZS1wb3N0ZXItZmFsbGJhY2sge1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgIHRvcDogMDtcclxuICAgICAgbGVmdDogMDtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHJcbiAgICAgIC5mYWxsYmFjay10ZXh0IHtcclxuICAgICAgICBwYWRkaW5nOiAxNnB4O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgICAgICB0ZXh0LXNoYWRvdzogMXB4IDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjcpO1xyXG4gICAgICAgIG1heC13aWR0aDogOTAlO1xyXG4gICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAmOmhvdmVyIC5tb3ZpZS1wb3N0ZXIge1xyXG4gICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJl9fcmF0aW5nIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMTJweDtcclxuICAgIHJpZ2h0OiAxMnB4O1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjg1KTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIHBhZGRpbmc6IDRweCA4cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cig0cHgpO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xyXG4gICAgei1pbmRleDogMjtcclxuXHJcbiAgICAmLnJhdGluZy1zdWNjZXNzIHtcclxuICAgICAgYmFja2dyb3VuZDogcmdiYSg3NiwgMTc1LCA4MCwgMC45KTtcclxuICAgIH1cclxuXHJcbiAgICAmLnJhdGluZy13YXJuaW5nIHtcclxuICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDE1MiwgMCwgMC45KTtcclxuICAgIH1cclxuXHJcbiAgICAmLnJhdGluZy1lcnJvciB7XHJcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ0LCA2NywgNTQsIDAuOSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAmX19jb250ZW50IHtcclxuICAgIHBhZGRpbmc6IDE2cHg7XHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICB9XHJcblxyXG4gICZfX3RpdGxlIHtcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA4cHg7XHJcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1wcmltYXJ5KTtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgfVxyXG5cclxuICAmX19tZXRhIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBnYXA6IDE2cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA4cHg7XHJcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1zZWNvbmRhcnkpO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gIH1cclxuXHJcbiAgJl9fZ2VucmVzIHtcclxuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEycHg7XHJcbiAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcclxuICAgIC13ZWJraXQtbGluZS1jbGFtcDogMjtcclxuICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgfVxyXG5cclxuICAmX19kZXRhaWxzIHtcclxuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO1xyXG4gICAgcGFkZGluZy10b3A6IDEycHg7XHJcbiAgICBtYXJnaW4tdG9wOiBhdXRvO1xyXG4gIH1cclxuXHJcbiAgJl9fZGVzY3JpcHRpb24ge1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5KTtcclxuICAgIG1hcmdpbi1ib3R0b206IDEycHg7XHJcbiAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcclxuICAgIC13ZWJraXQtbGluZS1jbGFtcDogMztcclxuICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgICBsaW5lLWhlaWdodDogMS40O1xyXG4gIH1cclxuXHJcbiAgJl9fZGlyZWN0b3Ige1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA4cHg7XHJcblxyXG4gICAgc3Ryb25nIHtcclxuICAgICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5KTtcclxuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICZfX2Nhc3Qge1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgY29sb3I6IHZhcigtLXRleHQtc2Vjb25kYXJ5KTtcclxuICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xyXG4gICAgLXdlYmtpdC1saW5lLWNsYW1wOiAyO1xyXG4gICAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XHJcblxyXG4gICAgc3Ryb25nIHtcclxuICAgICAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7XHJcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyDDkMKQw5DCtMOQwrDDkMK/w5HCgsOQwrjDkMKyw5DCvcOQwr7DkcKBw5HCgsORwoxcclxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgLm1vdmllLWNhcmQge1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG5cclxuICAgICZfX2NvbnRlbnQge1xyXG4gICAgICBwYWRkaW5nOiAxMnB4O1xyXG4gICAgfVxyXG5cclxuICAgICZfX3RpdGxlIHtcclxuICAgICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgfVxyXG5cclxuICAgICZfX21ldGEge1xyXG4gICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICB9XHJcblxyXG4gICAgJl9fZ2VucmVzIHtcclxuICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgfVxyXG5cclxuICAgICZfX2Rlc2NyaXB0aW9uLFxyXG4gICAgJl9fZGlyZWN0b3IsXHJcbiAgICAmX19jYXN0IHtcclxuICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gw5DCocORwoLDkMK4w5DCu8OQwrggw5DCtMOQwrvDkcKPIMORwoHDkMK6w5HCgMOQwrjDkMK9w5HCgMOQwrjDkMK0w5DCtcORwoDDkMK+w5DCslxyXG4uc3Itb25seSB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHdpZHRoOiAxcHg7XHJcbiAgaGVpZ2h0OiAxcHg7XHJcbiAgcGFkZGluZzogMDtcclxuICBtYXJnaW46IC0xcHg7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBjbGlwOiByZWN0KDAsIDAsIDAsIDApO1xyXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgYm9yZGVyOiAwO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"],\n    data: {\n      animation: [trigger('cardHover', [state('normal', style({\n        transform: 'scale(1)',\n        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.15)'\n      })), state('hovered', style({\n        transform: 'scale(1.03)',\n        boxShadow: '0 8px 16px rgba(0, 0, 0, 0.25)'\n      })), transition('normal => hovered', [animate('0.3s ease')]), transition('hovered => normal', [animate('0.2s ease')])]), trigger('fadeIn', [transition(':enter', [style({\n        opacity: 0,\n        transform: 'translateY(20px)'\n      }), animate('0.5s ease-out', style({\n        opacity: 1,\n        transform: 'translateY(0)'\n      }))])])]\n    }\n  });\n}","map":{"version":3,"names":["EventEmitter","trigger","state","style","transition","animate","i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵlistener","MovieCardComponent_ng_container_2_Template_img_error_1_listener","$event","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","handleImageError","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","getSafeImageUrl","movie","poster","ɵɵsanitizeUrl","title","ɵɵtext","ɵɵstyleProp","getMovieColor","ɵɵtextInterpolate","ɵɵtemplate","MovieCardComponent_div_16_div_7_span_4_Template","ɵɵtextInterpolate1","castFormatted","cast","length","MovieCardComponent_div_16_div_7_Template","description","director","MovieCardComponent","showDetails","cardClick","hoverState","ratingColor","defaultImage","ngOnInit","setRatingColor","onCardClick","emit","id","onMouseEnter","onMouseLeave","url","trim","startsWith","event","console","warn","target","src","alt","rating","getRatingClass","colors","showColorFallback","selectors","inputs","outputs","decls","vars","consts","template","MovieCardComponent_Template","rf","ctx","MovieCardComponent_Template_div_click_0_listener","MovieCardComponent_Template_div_mouseenter_0_listener","MovieCardComponent_Template_div_mouseleave_0_listener","MovieCardComponent_ng_container_2_Template","MovieCardComponent_div_3_Template","MovieCardComponent_div_16_Template","undefined","ratingFormatted","year","durationFormatted","genresFormatted","transform","boxShadow","opacity"],"sources":["C:\\Users\\kseniya\\dev\\film-catalog\\src\\app\\components\\movie-card\\movie-card.component.ts","C:\\Users\\kseniya\\dev\\film-catalog\\src\\app\\components\\movie-card\\movie-card.component.html"],"sourcesContent":["import { Component, Input, Output, EventEmitter, OnInit } from '@angular/core';\r\nimport { trigger, state, style, transition, animate } from '@angular/animations';\r\nimport { Movie } from '../../models/movie.model';\r\n\r\n@Component({\r\n  selector: 'app-movie-card',\r\n  templateUrl: './movie-card.component.html',\r\n  styleUrls: ['./movie-card.component.scss'],\r\n  animations: [\r\n    trigger('cardHover', [\r\n      state('normal', style({\r\n        transform: 'scale(1)',\r\n        boxShadow: '0 4px 8px rgba(0, 0, 0, 0.15)'\r\n      })),\r\n      state('hovered', style({\r\n        transform: 'scale(1.03)',\r\n        boxShadow: '0 8px 16px rgba(0, 0, 0, 0.25)'\r\n      })),\r\n      transition('normal => hovered', [\r\n        animate('0.3s ease')\r\n      ]),\r\n      transition('hovered => normal', [\r\n        animate('0.2s ease')\r\n      ])\r\n    ]),\r\n    trigger('fadeIn', [\r\n      transition(':enter', [\r\n        style({ opacity: 0, transform: 'translateY(20px)' }),\r\n        animate('0.5s ease-out', style({ opacity: 1, transform: 'translateY(0)' }))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\nexport class MovieCardComponent implements OnInit {\r\n  @Input() movie!: Movie;\r\n  @Input() showDetails: boolean = false;\r\n  @Output() cardClick = new EventEmitter<number>();\r\n\r\n  hoverState: 'normal' | 'hovered' = 'normal';\r\n  ratingColor: string = '';\r\n  defaultImage = 'assets/images/placeholder.jpg';\r\n\r\n  ngOnInit(): void {\r\n    this.setRatingColor();\r\n  }\r\n\r\n  onCardClick(): void {\r\n    this.cardClick.emit(this.movie.id);\r\n  }\r\n\r\n  onMouseEnter(): void {\r\n    this.hoverState = 'hovered';\r\n  }\r\n\r\n  onMouseLeave(): void {\r\n    this.hoverState = 'normal';\r\n  }\r\n\r\n  getSafeImageUrl(url: string): string {\r\n    // Если URL пустой или undefined, возвращаем заглушку\r\n    if (!url || url.trim() === '') {\r\n      return this.defaultImage;\r\n    }\r\n\r\n    // Если это локальный путь с assets/\r\n    if (url.startsWith('assets/')) {\r\n      return url;\r\n    }\r\n\r\n    // Если это относительный путь без assets/\r\n    if (url.startsWith('/')) {\r\n      return url;\r\n    }\r\n\r\n    // Если это внешний URL\r\n    if (url.startsWith('http://') || url.startsWith('https://')) {\r\n      return url;\r\n    }\r\n\r\n    // По умолчанию предполагаем, что это локальный файл в assets/images/\r\n    return `assets/images/${url}`;\r\n  }\r\n\r\n  handleImageError(event: any): void {\r\n    console.warn(`Ошибка загрузки изображения: ${this.movie.poster}`);\r\n    event.target.src = this.defaultImage;\r\n    event.target.alt = `Изображение для фильма \"${this.movie.title}\" недоступно`;\r\n    event.target.title = 'Изображение временно недоступно';\r\n  }\r\n\r\n  private setRatingColor(): void {\r\n    if (this.movie.rating >= 8.5) {\r\n      this.ratingColor = 'success';\r\n    } else if (this.movie.rating >= 7.0) {\r\n      this.ratingColor = 'warning';\r\n    } else {\r\n      this.ratingColor = 'error';\r\n    }\r\n  }\r\n\r\n  getRatingClass(): string {\r\n    return `rating-${this.ratingColor}`;\r\n  }\r\n\r\n  // Генерация цвета для фильма (запасной вариант)\r\n  getMovieColor(): string {\r\n    const colors = [\r\n      '#1a237e', // Начало - темно-синий\r\n      '#311b92', // Темный рыцарь - фиолетовый\r\n      '#004d40', // Интерстеллар - темно-зеленый\r\n      '#3e2723', // Помни - коричневый\r\n      '#1b5e20', // Матрица - зеленый\r\n      '#bf360c'  // Криминальное чтиво - оранжевый\r\n    ];\r\n    return colors[this.movie.id % colors.length];\r\n  }\r\n\r\n  // Если изображение не загрузилось, показываем цветной блок с названием\r\n  showColorFallback(): boolean {\r\n    return !this.movie.poster || this.movie.poster.trim() === '';\r\n  }\r\n}\r\n","<div\r\n  class=\"movie-card\"\r\n  [@cardHover]=\"hoverState\"\r\n  [@fadeIn]\r\n  (click)=\"onCardClick()\"\r\n  (mouseenter)=\"onMouseEnter()\"\r\n  (mouseleave)=\"onMouseLeave()\"\r\n  role=\"button\"\r\n  tabindex=\"0\"\r\n  [attr.aria-label]=\"'Перейти к деталям фильма ' + movie.title\"\r\n  [title]=\"'Нажмите для просмотра деталей фильма ' + movie.title\"\r\n>\r\n  <!-- Постер фильма или цветной блок -->\r\n  <div class=\"movie-card__poster\">\r\n    <!-- Если есть URL изображения -->\r\n    <ng-container *ngIf=\"!showColorFallback()\">\r\n      <img\r\n        [src]=\"getSafeImageUrl(movie.poster)\"\r\n        [alt]=\"movie.title\"\r\n        loading=\"lazy\"\r\n        (error)=\"handleImageError($event)\"\r\n        class=\"movie-poster\"\r\n      />\r\n    </ng-container>\r\n\r\n    <!-- Цветной блок-заглушка если нет изображения -->\r\n    <div\r\n      *ngIf=\"showColorFallback()\"\r\n      class=\"movie-poster-fallback\"\r\n      [style.background]=\"'linear-gradient(135deg, ' + getMovieColor() + ' 0%, #333 100%)'\"\r\n    >\r\n      <div class=\"fallback-text\">{{ movie.title }}</div>\r\n    </div>\r\n\r\n    <!-- Рейтинг -->\r\n    <div class=\"movie-card__rating\" [ngClass]=\"getRatingClass()\">\r\n      {{ movie.ratingFormatted }}\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Контент карточки -->\r\n  <div class=\"movie-card__content\">\r\n    <h3 class=\"movie-card__title\">{{ movie.title }}</h3>\r\n\r\n    <div class=\"movie-card__meta\">\r\n      <span class=\"movie-card__year\">{{ movie.year }}</span>\r\n      <span class=\"movie-card__duration\">{{ movie.durationFormatted }}</span>\r\n    </div>\r\n\r\n    <div class=\"movie-card__genres\">\r\n      {{ movie.genresFormatted }}\r\n    </div>\r\n\r\n    <!-- Детальная информация (если включена) -->\r\n    <div *ngIf=\"showDetails\" class=\"movie-card__details\">\r\n      <p class=\"movie-card__description\">{{ movie.description }}</p>\r\n\r\n      <div class=\"movie-card__director\">\r\n        <strong>Режиссер:</strong> {{ movie.director }}\r\n      </div>\r\n\r\n      <div class=\"movie-card__cast\" *ngIf=\"movie.cast && movie.cast.length > 0\">\r\n        <strong>В ролях:</strong> {{ movie.castFormatted }}\r\n        <span *ngIf=\"movie.cast.length > 3\">...</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"mappings":"AAAA,SAAmCA,YAAY,QAAgB,eAAe;AAC9E,SAASC,OAAO,EAAEC,KAAK,EAAEC,KAAK,EAAEC,UAAU,EAAEC,OAAO,QAAQ,qBAAqB;;;;;;ICc5EC,EAAA,CAAAC,uBAAA,GAA2C;IACzCD,EAAA,CAAAE,cAAA,cAME;IAFAF,EAAA,CAAAG,UAAA,mBAAAC,gEAAAC,MAAA;MAAAL,EAAA,CAAAM,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAR,EAAA,CAAAS,aAAA;MAAA,OAAAT,EAAA,CAAAU,WAAA,CAASF,MAAA,CAAAG,gBAAA,CAAAN,MAAA,CAAwB;IAAA,EAAC;IAJpCL,EAAA,CAAAY,YAAA,EAME;;;;;IALAZ,EAAA,CAAAa,SAAA,EAAqC;IACrCb,EADA,CAAAc,UAAA,QAAAN,MAAA,CAAAO,eAAA,CAAAP,MAAA,CAAAQ,KAAA,CAAAC,MAAA,GAAAjB,EAAA,CAAAkB,aAAA,CAAqC,QAAAV,MAAA,CAAAQ,KAAA,CAAAG,KAAA,CAClB;;;;;IAarBnB,EALF,CAAAE,cAAA,cAIC,cAC4B;IAAAF,EAAA,CAAAoB,MAAA,GAAiB;IAC9CpB,EAD8C,CAAAY,YAAA,EAAM,EAC9C;;;;IAHJZ,EAAA,CAAAqB,WAAA,4CAAAb,MAAA,CAAAc,aAAA,uBAAqF;IAE1DtB,EAAA,CAAAa,SAAA,GAAiB;IAAjBb,EAAA,CAAAuB,iBAAA,CAAAf,MAAA,CAAAQ,KAAA,CAAAG,KAAA,CAAiB;;;;;IAgC1CnB,EAAA,CAAAE,cAAA,WAAoC;IAAAF,EAAA,CAAAoB,MAAA,UAAG;IAAApB,EAAA,CAAAY,YAAA,EAAO;;;;;IAD9CZ,EADF,CAAAE,cAAA,cAA0E,aAChE;IAAAF,EAAA,CAAAoB,MAAA,6CAAQ;IAAApB,EAAA,CAAAY,YAAA,EAAS;IAACZ,EAAA,CAAAoB,MAAA,GAC1B;IAAApB,EAAA,CAAAwB,UAAA,IAAAC,+CAAA,kBAAoC;IACtCzB,EAAA,CAAAY,YAAA,EAAM;;;;IAFsBZ,EAAA,CAAAa,SAAA,GAC1B;IAD0Bb,EAAA,CAAA0B,kBAAA,MAAAlB,MAAA,CAAAQ,KAAA,CAAAW,aAAA,MAC1B;IAAO3B,EAAA,CAAAa,SAAA,EAA2B;IAA3Bb,EAAA,CAAAc,UAAA,SAAAN,MAAA,CAAAQ,KAAA,CAAAY,IAAA,CAAAC,MAAA,KAA2B;;;;;IARpC7B,EADF,CAAAE,cAAA,cAAqD,YAChB;IAAAF,EAAA,CAAAoB,MAAA,GAAuB;IAAApB,EAAA,CAAAY,YAAA,EAAI;IAG5DZ,EADF,CAAAE,cAAA,cAAkC,aACxB;IAAAF,EAAA,CAAAoB,MAAA,wDAAS;IAAApB,EAAA,CAAAY,YAAA,EAAS;IAACZ,EAAA,CAAAoB,MAAA,GAC7B;IAAApB,EAAA,CAAAY,YAAA,EAAM;IAENZ,EAAA,CAAAwB,UAAA,IAAAM,wCAAA,kBAA0E;IAI5E9B,EAAA,CAAAY,YAAA,EAAM;;;;IAV+BZ,EAAA,CAAAa,SAAA,GAAuB;IAAvBb,EAAA,CAAAuB,iBAAA,CAAAf,MAAA,CAAAQ,KAAA,CAAAe,WAAA,CAAuB;IAG7B/B,EAAA,CAAAa,SAAA,GAC7B;IAD6Bb,EAAA,CAAA0B,kBAAA,MAAAlB,MAAA,CAAAQ,KAAA,CAAAgB,QAAA,MAC7B;IAE+BhC,EAAA,CAAAa,SAAA,EAAyC;IAAzCb,EAAA,CAAAc,UAAA,SAAAN,MAAA,CAAAQ,KAAA,CAAAY,IAAA,IAAApB,MAAA,CAAAQ,KAAA,CAAAY,IAAA,CAAAC,MAAA,KAAyC;;;AD5B9E,OAAM,MAAOI,kBAAkB;EACpBjB,KAAK;EACLkB,WAAW,GAAY,KAAK;EAC3BC,SAAS,GAAG,IAAIzC,YAAY,EAAU;EAEhD0C,UAAU,GAAyB,QAAQ;EAC3CC,WAAW,GAAW,EAAE;EACxBC,YAAY,GAAG,+BAA+B;EAE9CC,QAAQA,CAAA;IACN,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAC,WAAWA,CAAA;IACT,IAAI,CAACN,SAAS,CAACO,IAAI,CAAC,IAAI,CAAC1B,KAAK,CAAC2B,EAAE,CAAC;EACpC;EAEAC,YAAYA,CAAA;IACV,IAAI,CAACR,UAAU,GAAG,SAAS;EAC7B;EAEAS,YAAYA,CAAA;IACV,IAAI,CAACT,UAAU,GAAG,QAAQ;EAC5B;EAEArB,eAAeA,CAAC+B,GAAW;IACzB;IACA,IAAI,CAACA,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,KAAK,EAAE,EAAE;MAC7B,OAAO,IAAI,CAACT,YAAY;IAC1B;IAEA;IACA,IAAIQ,GAAG,CAACE,UAAU,CAAC,SAAS,CAAC,EAAE;MAC7B,OAAOF,GAAG;IACZ;IAEA;IACA,IAAIA,GAAG,CAACE,UAAU,CAAC,GAAG,CAAC,EAAE;MACvB,OAAOF,GAAG;IACZ;IAEA;IACA,IAAIA,GAAG,CAACE,UAAU,CAAC,SAAS,CAAC,IAAIF,GAAG,CAACE,UAAU,CAAC,UAAU,CAAC,EAAE;MAC3D,OAAOF,GAAG;IACZ;IAEA;IACA,OAAO,iBAAiBA,GAAG,EAAE;EAC/B;EAEAnC,gBAAgBA,CAACsC,KAAU;IACzBC,OAAO,CAACC,IAAI,CAAC,gCAAgC,IAAI,CAACnC,KAAK,CAACC,MAAM,EAAE,CAAC;IACjEgC,KAAK,CAACG,MAAM,CAACC,GAAG,GAAG,IAAI,CAACf,YAAY;IACpCW,KAAK,CAACG,MAAM,CAACE,GAAG,GAAG,2BAA2B,IAAI,CAACtC,KAAK,CAACG,KAAK,cAAc;IAC5E8B,KAAK,CAACG,MAAM,CAACjC,KAAK,GAAG,iCAAiC;EACxD;EAEQqB,cAAcA,CAAA;IACpB,IAAI,IAAI,CAACxB,KAAK,CAACuC,MAAM,IAAI,GAAG,EAAE;MAC5B,IAAI,CAAClB,WAAW,GAAG,SAAS;IAC9B,CAAC,MAAM,IAAI,IAAI,CAACrB,KAAK,CAACuC,MAAM,IAAI,GAAG,EAAE;MACnC,IAAI,CAAClB,WAAW,GAAG,SAAS;IAC9B,CAAC,MAAM;MACL,IAAI,CAACA,WAAW,GAAG,OAAO;IAC5B;EACF;EAEAmB,cAAcA,CAAA;IACZ,OAAO,UAAU,IAAI,CAACnB,WAAW,EAAE;EACrC;EAEA;EACAf,aAAaA,CAAA;IACX,MAAMmC,MAAM,GAAG,CACb,SAAS;IAAE;IACX,SAAS;IAAE;IACX,SAAS;IAAE;IACX,SAAS;IAAE;IACX,SAAS;IAAE;IACX,SAAS,CAAE;IAAA,CACZ;IACD,OAAOA,MAAM,CAAC,IAAI,CAACzC,KAAK,CAAC2B,EAAE,GAAGc,MAAM,CAAC5B,MAAM,CAAC;EAC9C;EAEA;EACA6B,iBAAiBA,CAAA;IACf,OAAO,CAAC,IAAI,CAAC1C,KAAK,CAACC,MAAM,IAAI,IAAI,CAACD,KAAK,CAACC,MAAM,CAAC8B,IAAI,EAAE,KAAK,EAAE;EAC9D;;qBAvFWd,kBAAkB;EAAA;;UAAlBA,kBAAkB;IAAA0B,SAAA;IAAAC,MAAA;MAAA5C,KAAA;MAAAkB,WAAA;IAAA;IAAA2B,OAAA;MAAA1B,SAAA;IAAA;IAAA2B,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCjC/BnE,EAAA,CAAAE,cAAA,aAWC;QALCF,EAFA,CAAAG,UAAA,mBAAAkE,iDAAA;UAAA,OAASD,GAAA,CAAA3B,WAAA,EAAa;QAAA,EAAC,wBAAA6B,sDAAA;UAAA,OACTF,GAAA,CAAAxB,YAAA,EAAc;QAAA,EAAC,wBAAA2B,sDAAA;UAAA,OACfH,GAAA,CAAAvB,YAAA,EAAc;QAAA,EAAC;QAO7B7C,EAAA,CAAAE,cAAA,aAAgC;QAa9BF,EAXA,CAAAwB,UAAA,IAAAgD,0CAAA,0BAA2C,IAAAC,iCAAA,iBAe1C;QAKDzE,EAAA,CAAAE,cAAA,aAA6D;QAC3DF,EAAA,CAAAoB,MAAA,GACF;QACFpB,EADE,CAAAY,YAAA,EAAM,EACF;QAIJZ,EADF,CAAAE,cAAA,aAAiC,YACD;QAAAF,EAAA,CAAAoB,MAAA,GAAiB;QAAApB,EAAA,CAAAY,YAAA,EAAK;QAGlDZ,EADF,CAAAE,cAAA,aAA8B,eACG;QAAAF,EAAA,CAAAoB,MAAA,IAAgB;QAAApB,EAAA,CAAAY,YAAA,EAAO;QACtDZ,EAAA,CAAAE,cAAA,eAAmC;QAAAF,EAAA,CAAAoB,MAAA,IAA6B;QAClEpB,EADkE,CAAAY,YAAA,EAAO,EACnE;QAENZ,EAAA,CAAAE,cAAA,eAAgC;QAC9BF,EAAA,CAAAoB,MAAA,IACF;QAAApB,EAAA,CAAAY,YAAA,EAAM;QAGNZ,EAAA,CAAAwB,UAAA,KAAAkD,kCAAA,kBAAqD;QAazD1E,EADE,CAAAY,YAAA,EAAM,EACF;;;QAzDJZ,EARA,CAAAc,UAAA,eAAAsD,GAAA,CAAAhC,UAAA,CAAyB,YAAAuC,SAAA,CAChB,oNAAAP,GAAA,CAAApD,KAAA,CAAAG,KAAA,CAOsD;;QAK9CnB,EAAA,CAAAa,SAAA,GAA0B;QAA1Bb,EAAA,CAAAc,UAAA,UAAAsD,GAAA,CAAAV,iBAAA,GAA0B;QAYtC1D,EAAA,CAAAa,SAAA,EAAyB;QAAzBb,EAAA,CAAAc,UAAA,SAAAsD,GAAA,CAAAV,iBAAA,GAAyB;QAQI1D,EAAA,CAAAa,SAAA,EAA4B;QAA5Bb,EAAA,CAAAc,UAAA,YAAAsD,GAAA,CAAAZ,cAAA,GAA4B;QAC1DxD,EAAA,CAAAa,SAAA,EACF;QADEb,EAAA,CAAA0B,kBAAA,MAAA0C,GAAA,CAAApD,KAAA,CAAA4D,eAAA,MACF;QAK8B5E,EAAA,CAAAa,SAAA,GAAiB;QAAjBb,EAAA,CAAAuB,iBAAA,CAAA6C,GAAA,CAAApD,KAAA,CAAAG,KAAA,CAAiB;QAGdnB,EAAA,CAAAa,SAAA,GAAgB;QAAhBb,EAAA,CAAAuB,iBAAA,CAAA6C,GAAA,CAAApD,KAAA,CAAA6D,IAAA,CAAgB;QACZ7E,EAAA,CAAAa,SAAA,GAA6B;QAA7Bb,EAAA,CAAAuB,iBAAA,CAAA6C,GAAA,CAAApD,KAAA,CAAA8D,iBAAA,CAA6B;QAIhE9E,EAAA,CAAAa,SAAA,GACF;QADEb,EAAA,CAAA0B,kBAAA,MAAA0C,GAAA,CAAApD,KAAA,CAAA+D,eAAA,MACF;QAGM/E,EAAA,CAAAa,SAAA,EAAiB;QAAjBb,EAAA,CAAAc,UAAA,SAAAsD,GAAA,CAAAlC,WAAA,CAAiB;;;;;;iBD9Cb,CACVvC,OAAO,CAAC,WAAW,EAAE,CACnBC,KAAK,CAAC,QAAQ,EAAEC,KAAK,CAAC;QACpBmF,SAAS,EAAE,UAAU;QACrBC,SAAS,EAAE;OACZ,CAAC,CAAC,EACHrF,KAAK,CAAC,SAAS,EAAEC,KAAK,CAAC;QACrBmF,SAAS,EAAE,aAAa;QACxBC,SAAS,EAAE;OACZ,CAAC,CAAC,EACHnF,UAAU,CAAC,mBAAmB,EAAE,CAC9BC,OAAO,CAAC,WAAW,CAAC,CACrB,CAAC,EACFD,UAAU,CAAC,mBAAmB,EAAE,CAC9BC,OAAO,CAAC,WAAW,CAAC,CACrB,CAAC,CACH,CAAC,EACFJ,OAAO,CAAC,QAAQ,EAAE,CAChBG,UAAU,CAAC,QAAQ,EAAE,CACnBD,KAAK,CAAC;QAAEqF,OAAO,EAAE,CAAC;QAAEF,SAAS,EAAE;MAAkB,CAAE,CAAC,EACpDjF,OAAO,CAAC,eAAe,EAAEF,KAAK,CAAC;QAAEqF,OAAO,EAAE,CAAC;QAAEF,SAAS,EAAE;MAAe,CAAE,CAAC,CAAC,CAC5E,CAAC,CACH,CAAC;IACH;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}