{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/router\";\nfunction AppComponent_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function AppComponent_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.goBack());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 13);\n    i0.ɵɵelement(2, \"path\", 14);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_a_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 15);\n    i0.ɵɵtext(1, \" \\u0414\\u0435\\u0442\\u0430\\u043B\\u0438 \\u0444\\u0438\\u043B\\u044C\\u043C\\u0430 \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AppComponent {\n  renderer;\n  title = 'Каталог фильмов';\n  showBackButton = false;\n  currentRoute = '';\n  isDarkTheme = false;\n  showScrollTop = false;\n  constructor(renderer) {\n    this.renderer = renderer;\n  }\n  ngOnInit() {\n    this.setupTheme();\n    this.checkScrollPosition();\n  }\n  setupTheme() {\n    // Проверяем сохраненную тему\n    const savedTheme = localStorage.getItem('theme');\n    if (savedTheme === 'dark') {\n      this.enableDarkTheme();\n    } else if (savedTheme === 'light') {\n      this.enableLightTheme();\n    } else {\n      // Проверяем системные настройки\n      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n      if (prefersDark) {\n        this.enableDarkTheme();\n      } else {\n        this.enableLightTheme();\n      }\n    }\n  }\n  toggleTheme() {\n    if (this.isDarkTheme) {\n      this.enableLightTheme();\n    } else {\n      this.enableDarkTheme();\n    }\n  }\n  enableDarkTheme() {\n    this.renderer.addClass(document.body, 'dark-theme');\n    this.isDarkTheme = true;\n    localStorage.setItem('theme', 'dark');\n  }\n  enableLightTheme() {\n    this.renderer.removeClass(document.body, 'dark-theme');\n    this.isDarkTheme = false;\n    localStorage.setItem('theme', 'light');\n  }\n  goBack() {\n    window.history.back();\n  }\n  goHome() {\n    // Используем window.location для надежности\n    window.location.href = '/';\n  }\n  scrollToTop() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n  onWindowScroll() {\n    this.checkScrollPosition();\n  }\n  checkScrollPosition() {\n    this.showScrollTop = window.pageYOffset > 300;\n  }\n  static ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i0.Renderer2));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    hostBindings: function AppComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"scroll\", function AppComponent_scroll_HostBindingHandler() {\n          return ctx.onWindowScroll();\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    decls: 21,\n    vars: 3,\n    consts: [[1, \"app\"], [1, \"app-header\"], [1, \"container\"], [1, \"header-content\"], [1, \"header-left\"], [\"class\", \"back-button\", \"aria-label\", \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043D\\u0430\\u0437\\u0430\\u0434\", 3, \"click\", 4, \"ngIf\"], [\"role\", \"button\", \"tabindex\", \"0\", \"aria-label\", \"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430\", 1, \"app-title\", 3, \"click\"], [\"aria-label\", \"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u0430\\u044F \\u043D\\u0430\\u0432\\u0438\\u0433\\u0430\\u0446\\u0438\\u044F\", 1, \"header-nav\"], [\"routerLink\", \"/\", \"routerLinkActive\", \"active\", \"aria-label\", \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0444\\u0438\\u043B\\u044C\\u043C\\u043E\\u0432\"], [\"class\", \"current-movie\", \"aria-current\", \"page\", 4, \"ngIf\"], [1, \"app-main\"], [1, \"app-footer\"], [\"aria-label\", \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043D\\u0430\\u0437\\u0430\\u0434\", 1, \"back-button\", 3, \"click\"], [\"width\", \"20\", \"height\", \"20\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"aria-hidden\", \"true\"], [\"d\", \"M19 12H5M12 19l-7-7 7-7\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\"], [\"aria-current\", \"page\", 1, \"current-movie\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n        i0.ɵɵtemplate(5, AppComponent_button_5_Template, 3, 0, \"button\", 5);\n        i0.ɵɵelementStart(6, \"h1\", 6);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_h1_click_6_listener() {\n          return ctx.goHome();\n        });\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"nav\", 7)(9, \"a\", 8);\n        i0.ɵɵtext(10, \" \\u0412\\u0441\\u0435 \\u0444\\u0438\\u043B\\u044C\\u043C\\u044B \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(11, AppComponent_a_11_Template, 2, 0, \"a\", 9);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(12, \"main\", 10)(13, \"div\", 2);\n        i0.ɵɵelement(14, \"router-outlet\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"footer\", 11)(16, \"div\", 2)(17, \"p\");\n        i0.ɵɵtext(18, \"\\u00A9 2024 \\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433 \\u0444\\u0438\\u043B\\u044C\\u043C\\u043E\\u0432. \\u0412\\u0441\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0430 \\u0437\\u0430\\u0449\\u0438\\u0449\\u0435\\u043D\\u044B.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"p\");\n        i0.ɵɵtext(20, \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043F\\u0440\\u0435\\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043B\\u0435\\u043D\\u044B \\u0434\\u043B\\u044F \\u0434\\u0435\\u043C\\u043E\\u043D\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u043E\\u043D\\u043D\\u044B\\u0445 \\u0446\\u0435\\u043B\\u0435\\u0439.\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.showBackButton);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.title, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentRoute.includes(\"/movie/\"));\n      }\n    },\n    dependencies: [i1.NgIf, i2.RouterOutlet, i2.RouterLink, i2.RouterLinkActive],\n    styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\tvar __webpack_modules__ = ({\\n\\n\\n 282:\\n\\n\\n\\n\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/sass-loader/dist/cjs.js):\\\\nUndefined variable.\\\\n   \\u2577\\\\n10 \\u2502     box-shadow: $shadow-sm;\\\\r\\\\n   \\u2502                 ^^^^^^^^^^\\\\n   \\u2575\\\\n  src\\\\\\\\app\\\\\\\\app.component.scss 10:17  root stylesheet\\\");\\n\\n\\n })\\n\\n\\n \\t});\\n\\n\\n\\n \\t\\n\\n \\t// startup\\n\\n \\t// Load entry module and return exports\\n\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n\\n \\tvar __webpack_exports__ = {};\\n\\n \\t__webpack_modules__[282]();\\n\\n \\tresource = __webpack_exports__;\\n\\n \\t\\n\\n })()\\n;\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","AppComponent_button_5_Template_button_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","goBack","ɵɵelement","ɵɵelementEnd","ɵɵtext","AppComponent","renderer","title","showBackButton","currentRoute","isDarkTheme","showScrollTop","constructor","ngOnInit","setupTheme","checkScrollPosition","savedTheme","localStorage","getItem","enableDarkTheme","enableLightTheme","prefersDark","window","matchMedia","matches","toggleTheme","addClass","document","body","setItem","removeClass","history","back","goHome","location","href","scrollToTop","scrollTo","top","behavior","onWindowScroll","pageYOffset","ɵɵdirectiveInject","Renderer2","selectors","hostBindings","AppComponent_HostBindings","rf","ctx","AppComponent_scroll_HostBindingHandler","ɵɵresolveWindow","ɵɵtemplate","AppComponent_button_5_Template","AppComponent_Template_h1_click_6_listener","AppComponent_a_11_Template","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate1","includes"],"sources":["C:\\Users\\kseniya\\dev\\film-catalog\\src\\app\\app.component.ts","C:\\Users\\kseniya\\dev\\film-catalog\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit, Renderer2, HostListener } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = 'Каталог фильмов';\r\n  showBackButton = false;\r\n  currentRoute = '';\r\n  isDarkTheme = false;\r\n  showScrollTop = false;\r\n\r\n  constructor(private renderer: Renderer2) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setupTheme();\r\n    this.checkScrollPosition();\r\n  }\r\n\r\n  private setupTheme(): void {\r\n    // Проверяем сохраненную тему\r\n    const savedTheme = localStorage.getItem('theme');\r\n\r\n    if (savedTheme === 'dark') {\r\n      this.enableDarkTheme();\r\n    } else if (savedTheme === 'light') {\r\n      this.enableLightTheme();\r\n    } else {\r\n      // Проверяем системные настройки\r\n      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n      if (prefersDark) {\r\n        this.enableDarkTheme();\r\n      } else {\r\n        this.enableLightTheme();\r\n      }\r\n    }\r\n  }\r\n\r\n  toggleTheme(): void {\r\n    if (this.isDarkTheme) {\r\n      this.enableLightTheme();\r\n    } else {\r\n      this.enableDarkTheme();\r\n    }\r\n  }\r\n\r\n  private enableDarkTheme(): void {\r\n    this.renderer.addClass(document.body, 'dark-theme');\r\n    this.isDarkTheme = true;\r\n    localStorage.setItem('theme', 'dark');\r\n  }\r\n\r\n  private enableLightTheme(): void {\r\n    this.renderer.removeClass(document.body, 'dark-theme');\r\n    this.isDarkTheme = false;\r\n    localStorage.setItem('theme', 'light');\r\n  }\r\n\r\n  goBack(): void {\r\n    window.history.back();\r\n  }\r\n\r\n  goHome(): void {\r\n    // Используем window.location для надежности\r\n    window.location.href = '/';\r\n  }\r\n\r\n  scrollToTop(): void {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  }\r\n\r\n  @HostListener('window:scroll', [])\r\n  onWindowScroll(): void {\r\n    this.checkScrollPosition();\r\n  }\r\n\r\n  private checkScrollPosition(): void {\r\n    this.showScrollTop = window.pageYOffset > 300;\r\n  }\r\n}\r\n","<div class=\"app\">\r\n  <header class=\"app-header\">\r\n    <div class=\"container\">\r\n      <div class=\"header-content\">\r\n        <div class=\"header-left\">\r\n          <button\r\n            *ngIf=\"showBackButton\"\r\n            class=\"back-button\"\r\n            (click)=\"goBack()\"\r\n            aria-label=\"Вернуться назад\"\r\n          >\r\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" aria-hidden=\"true\">\r\n              <path d=\"M19 12H5M12 19l-7-7 7-7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n          </button>\r\n\r\n          <h1 class=\"app-title\" (click)=\"goHome()\" role=\"button\" tabindex=\"0\" aria-label=\"Главная страница\">\r\n            {{ title }}\r\n          </h1>\r\n        </div>\r\n\r\n        <nav class=\"header-nav\" aria-label=\"Основная навигация\">\r\n          <a\r\n            routerLink=\"/\"\r\n            routerLinkActive=\"active\"\r\n            aria-label=\"Список фильмов\"\r\n          >\r\n            Все фильмы\r\n          </a>\r\n          <a\r\n            *ngIf=\"currentRoute.includes('/movie/')\"\r\n            class=\"current-movie\"\r\n            aria-current=\"page\"\r\n          >\r\n            Детали фильма\r\n          </a>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  </header>\r\n\r\n  <main class=\"app-main\">\r\n    <div class=\"container\">\r\n      <router-outlet></router-outlet>\r\n    </div>\r\n  </main>\r\n\r\n  <footer class=\"app-footer\">\r\n    <div class=\"container\">\r\n      <p>© 2024 Каталог фильмов. Все права защищены.</p>\r\n      <p>Данные предоставлены для демонстрационных целей.</p>\r\n    </div>\r\n  </footer>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}